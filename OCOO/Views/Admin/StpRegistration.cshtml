@model OCOO.Models.FirmDetails
@*@model OCOO.Models.STPModel*@
@{
    ViewData["Title"] = "STP Registration";
    Layout = "~/Views/Shared/_Layout.cshtml";
}



<div class="page-wrapper">
    <div class="row page-titles">
        <div class="col-md-6 align-self-center">
            <h3 class="text-themecolor">STP Registration</h3>
        </div>
    </div>

    <div class="container-fluid">
        <div class="card p-3">
            <form method="post" action="StpRegistration">
                <div class="row">
                    <input type="hidden" name="Pk_FirmId" value="@Context.Session.GetString("Pk_UserId")" />

                    <input type="hidden" name="hddnTokenNo" id="hddnTokenNo" value="@ViewBag.TOkenNo" />
                    <input type="hidden" asp-for="Pk_STPId" />
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>STP Name<span class="text-danger">*</span></label>
                            <input type="text" class="form-control" asp-for="STPName" id="STPName" placeholder="Enter STP name" />
                        </div>
                    </div>
                    <div class="col-md-6" style="display:none">
                        <div class="form-group" >
                            <label>Capacity (MLD)<span class="text-danger">*</span></label>
                            <input type="text" class="form-control" onchange="return FvalidateCapacity();" asp-for="Capacity" id="Capacity" onkeypress="return isNumberKey(event)" placeholder="Enter design capacity " />
                            <span class="float-center" id="txtSpanError1" style="color: red; font-weight: bold;display:none"></span>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Treatment Technology<span class="text-danger">*</span></label>
                            <input type="text" class="form-control" asp-for="TreatmentTechnology" id="TreatmentTechnology" placeholder="Enter Treatment Technology " />

                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Electricity Meter Load(KWH)<span class="text-danger">*</span></label>
                            <input type="text" class="form-control" asp-for="ElectricityMeterLoad" onkeypress="return isNumberKey(event)" id="ElectricityMeterLoad" placeholder="Enter electricity meter load" />
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Electricity Account No<span class="text-danger">*</span></label>
                            <input type="text" maxlength="10" class="form-control" asp-for="ElectricityAccountNo" id="ElectricityAccountNo" placeholder="Enter electricity account no" />
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label> Bill Cycle(start date of every month)<span class="text-danger">*</span></label>
                            <input type="text" maxlength="2" max="31" class="form-control" onkeypress="return isNumberKey(event)" asp-for="UPPCLBillCycle" id="UPPCLBillCycle" placeholder="Enter bill cycle start date of every month" />
                            <span class="float-center" id="txterrorbillCycle" style="color: red; font-weight: bold;display:none"></span>
                        </div>
                    </div>
                    @*<div class="col-md-6">
                        <div class="form-group">
                            <label>City <span class="text-danger">*</span></label>
                            @Html.DropDownListFor(m => m.Pk_CityId, new SelectList(ViewBag.ddlCity, "Value", "Text"), new { @class = "form-control"  })
                        </div>
                    </div>*@
                    <div class="col-md-6">
                        <div class="form-group">
                            <label> Location</label>
                            <textarea class="form-control" asp-for="Address"> </textarea>

                        </div>
                    </div>
                    
                </div>
                <div class="row mt-2" style="display:none;">
                    <div class="col-md-12">
                        <h3>Testing Agency</h3>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <input type="checkbox" class="testinglab" asp-for="IsInhouse" disabled id="InHouseCheck" checked />
                            <label for="InHouseCheck">In House</label>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <input type="checkbox" class="testinglab" asp-for="IsUPPCB" disabled id="UPPCBCheck" checked />
                            <label for="UPPCBCheck">UPPCB</label>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <input type="checkbox" class="testinglab" asp-for="IsTPI" disabled id="TPICheck" checked />
                            <label for="TPICheck">TPI</label>
                        </div>
                    </div>
                </div>

                <div class="row mt-2">
                    <div class="col-md-12">

                        <div class="table-responsive">
                            <table class="table">
                                <tr class="bg-light-primary">
                                    <td>
                                        <div class="form-group">
                                            <input type="checkbox" class="Billtype" asp-for="IsBOD" id="BODCheck" disabled checked />
                                            <label for="BODCheck">STP Design BOD</label>
                                        </div>
                                    </td>
                                    <td>
                                        <div style="display: none;" id="BODTextBox">
                                            <div class="form-group">
                                                <label>BOD  <span class="text-danger">*</span></label>
                                                <input type="text" class="form-control" asp-for="BOD" onkeypress="return isNumberKey(event)" placeholder="Enter design BOD" />
                                            </div>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="form-group">
                                            <label data-toggle="tooltip" data-original-title="Whether this value shall be used for billing purpose" class="title1">Whether this value shall be used for billing purpose<span class="text-danger">*</span></label>
                                            <div class="col-md-12 form-group">
                                                <input type="radio" checked asp-for="IsBillingBOD" class="with-gap" value="true" id="YesIsBillingBOD" name="IsBillingBOD" onchange="getstatus()" />
                                                <label for="YesIsBillingBOD">Yes &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
                                                <input type="radio" asp-for="IsBillingBOD" class="with-gap" value="false" id="NoIsBillingBOD" name="IsBillingBOD" onchange="getstatus()" />
                                                <label for="NoIsBillingBOD">No</label>
                                            </div>
                                        </div>
                                    </td>
                                    <td>
                                        <div>
                                            <div class="form-group" style="display: none;" id="NewBODTextBox">
                                                <label>BOD  <span class="text-danger">*</span></label>
                                                <input type="text" class="form-control" asp-for="NewBOD" onkeypress="return isNumberKey(event)" placeholder="Enter BOD value" />
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                                <tr class="bg-light-info">
                                    <td>
                                        <div class="form-group">
                                            <input type="checkbox" class="Billtype" asp-for="IsCOD" id="CODCheck" disabled checked />
                                            <label for="CODCheck">STP Design COD </label>
                                        </div>
                                    </td>
                                    <td>
                                        <div style="display: none;" id="CODTextBox">
                                            <div class="form-group">
                                                <label>COD <span class="text-danger">*</span></label>
                                                <input type="text" class="form-control" asp-for="COD" onkeypress="return isNumberKey(event)" placeholder="Enter design COD" />
                                            </div>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="form-group">
                                            <label data-toggle="tooltip" data-original-title="Whether this value shall be used for billing purpose" class="title1">Whether this value shall be used for billing purpose<span class="text-danger">*</span></label>
                                            <div class="col-md-12 form-group">
                                                <input type="radio" checked asp-for="IsBillingCOD" class="with-gap" value="true" id="YesIsBillingCOD" name="IsBillingCOD" onchange="getIsBillingCOD()" />
                                                <label for="YesIsBillingCOD">Yes &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
                                                <input type="radio" asp-for="IsBillingCOD" class="with-gap" value="false" id="NoIsBillingCOD" name="IsBillingCOD" onchange="getIsBillingCOD()" />
                                                <label for="NoIsBillingCOD">No</label>
                                            </div>
                                        </div>
                                    </td>
                                    <td>
                                        <div>
                                            <div class="form-group" style="display: none;" id="NewCODTextBox">
                                                <label>COD  <span class="text-danger">*</span></label>
                                                <input type="text" class="form-control" asp-for="NewCOD" onkeypress="return isNumberKey(event)" placeholder="Enter COD value" />
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                                <tr class="bg-light-warning">
                                    <td style="width:20%">
                                        <div class="form-group">
                                            <input type="checkbox" class="Billtype" asp-for="IsTSS" disabled id="TSSCheck" checked />
                                            <label for="TSSCheck">STP Design TSS</label>
                                        </div>
                                    </td>
                                    <td style="width:30%">
                                        <div style="display: none;" id="TSSTextBox">
                                            <div class="form-group">
                                                <label>TSS <span class="text-danger">*</span></label>
                                                <input type="text" class="form-control" asp-for="TSS" onkeypress="return isNumberKey(event)" placeholder="Enter design TSS" />

                                            </div>
                                        </div>
                                    </td>
                                    <td style="width:20%">
                                        <div class="form-group">
                                            <label data-toggle="tooltip" data-original-title="Whether this value shall be used for billing purpose" class="title1">Whether this value shall be used for billing purpose<span class="text-danger">*</span></label>

                                            <div class="col-md-12 form-group">
                                                <input type="radio" checked asp-for="IsBillingTSS" class="with-gap" value="true" id="YesIsBillingTSS" name="IsBillingTSS" onchange="getIsBillingTSS()" />
                                                <label for="YesIsBillingTSS">Yes &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
                                                <input type="radio" asp-for="IsBillingTSS" class="with-gap" value="false" id="NoIsBillingTSS" name="IsBillingTSS" onchange="getIsBillingTSS()" />
                                                <label for="NoIsBillingTSS">No</label>
                                            </div>
                                        </div>
                                    </td>
                                    <td style="width:30%">
                                        <div>
                                            <div class="form-group" style="display: none;" id="NewTSSTextBox">
                                                <label>TSS  <span class="text-danger">*</span></label>
                                                <input type="text" class="form-control" asp-for="NewTSS" onkeypress="return isNumberKey(event)" placeholder="Enter TSS Value" />
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                                <tr class="bg-light-success">
                                    <td>
                                        <div class="form-group">
                                            <input type="checkbox" class="Billtype" asp-for="IsFC" id="FSCheck" />
                                            <label for="FSCheck">STP Design FC</label>
                                        </div>
                                    </td>
                                    <td style="width:30%">
                                        <div style="display: none;" id="FSTextBox">
                                            <div class="form-group">
                                                <label>FC<span class="text-danger">*</span></label>
                                                <input type="text" class="form-control" asp-for="FC" onkeypress="return isNumberKey(event)" placeholder="Enter design FC" />
                                            </div>
                                        </div>
                                    </td>
                                    <td style="width:20%">
                                        <div class="form-group" style="display: none;" id="FSTextRadio">
                                            <label data-toggle="tooltip" data-original-title="Whether this value shall be used for billing purpose" class="title1">Whether this value shall be used for billing purpose<span class="text-danger">*</span></label>

                                            <div class="col-md-12 form-group">
                                                <input type="radio" checked asp-for="IsBillingFC" class="with-gap" value="true" id="YesIsBillingFC" name="IsBillingFC" onchange="getIsBillingFC()" />
                                                <label for="YesIsBillingFC">Yes &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
                                                <input type="radio" asp-for="IsBillingFC" class="with-gap" value="false" id="NoIsBillingFC" name="IsBillingFC" onchange="getIsBillingFC()" />
                                                <label for="NoIsBillingFC">No</label>
                                            </div>
                                        </div>
                                    </td>
                                    <td style="width:30%">
                                        <div>
                                            <div class="form-group" style="display: none;" id="NewFCTextBox">
                                                <label>FC  <span class="text-danger">*</span></label>
                                                <input type="text" class="form-control" asp-for="NewFC" onkeypress="return isNumberKey(event)" placeholder="Enter FC Value" />
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                            </table>

                        </div>
                    </div>

                </div>

               @* <div class="row mt-2">*@
                   @* <form id="MainPumpingStationForm">
                        <div class="col-md-12 bg-light-primary">
                            <h3 class="float-left">Main Pumping Station</h3>
                        </div>
                        <br />
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>Name<span class="text-danger">*</span></label>
                                <input type="text" class="form-control" asp-for="Name" placeholder="Name of pumping station who is  rising  main discharge at in left of stp" />
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>Meter Load<span class="text-danger">*</span></label>
                                <input type="text" class="form-control" onkeypress="return isNumberKey(event)" asp-for="PumpStationMeterLoad" placeholder="Enter meter load" />
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>UPPCL Electricity Account Number<span class="text-danger">*</span></label>
                                <input type="text" maxlength="10" class="form-control" asp-for="PumpingStatisonAccountNo" placeholder="Enter Station UPPCL Account Number" onkeypress="return isNumberKey(event)" />
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>UPPCL Electricity Bill Cycle(start date of every month)<span class="text-danger">*</span></label>
                                <input type="text" maxlength="2" max="31" class="form-control" onkeypress="return isNumberKey(event)" asp-for="PumpingBillCycle" id="PumpingBillCycle" placeholder="Enter UPPCL electricity bill cycle start date of every month" />
                                <span class="float-center" id="txtErrorPumpingBillCycle" style="color: red; font-weight: bold;display:none"></span>
                            </div>
                        </div>

                        <div class="col-md-6 dvMainSPS">
                            <div class="form-group">
                                <label>Peak Design Discharge<span class="text-danger">*</span></label>
                                <input type="text" class="form-control" onkeypress="return isNumberKey(event)" asp-for="PeekDesignedDischarge" id="PeekDesignedDischarge" placeholder="Enter peak design discharge" />
                            </div>

                        </div>
                        <div class="col-md-6 dvMainSPS">
                            <div class="form-group">
                                <label>Peak Factor<span class="text-danger">*</span></label>
                                <input type="text" class="form-control" onkeypress="return isNumberKey(event)" asp-for="PeekDesignedFactor" id="PeekDesignedFactor" placeholder="Enter peak factor" />
                            </div>

                        </div>
                        <div class="col-md-12 dvMainSPS">
                            <div class="row">
                                <div class="col-md-6 pt-4 bg-light-info">
                                    <div class="form-group">
                                        <input type="checkbox" id="IsDrain" />
                                        <label for="IsDrain" style="font-size: 12px;">Flow From Drain</label>
                                    </div>
                                </div>
                                <div class="col-md-6 bg-light-info d-none" id="MainDrainNameBox">
                                    <div class="form-group d-flex mt-3">
                                        <label>Main Drain Name<span class="text-danger">*</span></label>
                                        <input type="text" class="form-control" asp-for="DrainageName" id="DrainageName" placeholder="Enter drain name " />
                                        <span class="float-right"><a id="btnAddMainDrain" onclick="return fAddMainDrain();" class="btn btn-success ml-2 text-white"><i class="fa fa-plus mdi-18px"></i></a></span>
                                    </div>
                                    <label id="MainDrainList"></label>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 bg-light-primary pt-4">
                                    <div class="form-group">
                                        <input type="checkbox" id="IsSewer" />
                                        <label for="IsSewer" style="font-size: 12px;">Flow From Sewer</label>
                                    </div>
                                </div>
                                <div class="col-md-6 bg-light-primary d-none" id="MainSewerLengthBox">
                                    <div class="form-group d-flex mt-3">
                                        <label>Main Sewer Length(K.M.)<span class="text-danger">*</span></label>
                                        <input type="text" class="form-control" onkeypress="return isNumberKey(event)" asp-for="SewerLength" id="SewerLength" placeholder="Enter sewer length " />
                                        <span class="float-right"><a id="btnAddMainSewer" onclick="return fAddMainSewer();" class="btn btn-success ml-2 text-white"><i class="fa fa-plus mdi-18px"></i></a></span>
                                    </div>
                                    <label id="MainSewerList"></label>
                                </div>


                            </div>
                        </div>
                        <div class="col-md-12 text-right mt-2">
                            <a class="btn btn-success text-white btn-sm btn-xs" onclick="return fSaveMainPumpingStation(0);"><i class="fa fa-plus mdi-18px"></i> Add SPS/IPS</a>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group">
                                <input type="checkbox" id="IsDeclered" />
                                <label for="IsDeclered" style="font-size: 12px;">It is hereby declared that the details mentioned here/above are true and correct.</label>
                            </div>
                        </div>
                    </form>*@

                    @if(Model!=null)
                    {
                     <div class="col-md-12 text-right">
                        <input type="submit" class="btn btn-success  btn-xs btn-sm" id="Update" value="Update" name="btnUpdate" />
                     </div>
                    }
                    else
                    {
                    <div class="col-md-12 text-right">

                        <button type="reset" class="btn btn-secondary   btn-xs btn-sm"><i class="fa fa-refresh"></i>Reset</button>
                        <a class="btn btn-success btn-sm btn-xs" onclick="return ValidateForm();"><i class="fa fa-save"></i> Save</a>
                        <button type="submit" hidden class="btn btn-success btn-sm btn-xs" id="Submit" value="Submit" name="btnSubmit"><i class="fa fa-save"></i> Save</button>


                    </div>
                    }
               
               
             @*   </div>*@
                <input type="hidden" asp-for="PumpingStation" />
            </form>
        </div>
    </div>
</div>

<form asp-action="StpRegistration" asp-controller="Admin">
    <div id="SPSModal" class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-hidden="true" data-keyboard="false" data-backdrop="static">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Add SPS/IPS</h5>
                    <a href="#" class="btn-close" data-dismiss="modal">
                        <i class="fa fa-close"></i>
                    </a>
                </div>
                <div class="modal-body">
                    <div class="row">

                        <div class="col-md-6">
                            <label data-toggle="tooltip" data-original-title="Name of pumping station/STP to which this pumping station shall be discharging directly" class="title1">Name of pumping station/STP to which this<span class="text-danger">*</span> pumping station shall be discharging directly</label>
                            <select asp-for="PumpingStationName" class="form-control">
                                <option value="0">--select--</option>
                            </select>
                        </div>

                        <div class="col-md-6">
                            <label>Meter Load<span class="text-danger">*</span></label>
                            <input type="text" class="form-control" asp-for="SubStationMeterLoad" placeholder="Enter Meter Load" />
                        </div>

                        <div class="col-md-6">
                            <label>UPPCL Electricity Account Number <span class="text-danger">*</span></label>
                            <input type="text" class="form-control" onkeypress="return isNumberKey(event)" maxlength="10" asp-for="SubAccountNo" placeholder="Enter UPPCL Electricity Account Number" />
                        </div>

                        <div class="col-md-6">
                            <label data-toggle="tooltip" data-original-title="UPPCL Electricity Bill Cycle(start date of every month)" class="title1">UPPCL Electricity Bill Cycle(start date of every<span class="text-danger">*</span> month)</label>
                            <input type="text" class="form-control" maxlength="2" max="31" asp-for="SubPumpingBillCycle" placeholder="Enter  UPPCL Electircity Bill Cycle(start date of every month) " />
                        </div>

                        <div class="col-md-6">
                            <label>Peak Design Discharge <span class="text-danger">*</span></label>
                            <input type="text" class="form-control" asp-for="SubPeakDischarge" placeholder="Enter Peak Design Discharge" />
                        </div>

                        <div class="col-md-6">
                            <label>Peak Factor <span class="text-danger">*</span></label>
                            <input type="text" class="form-control" asp-for="SubPeakFactor" placeholder="Enter Peak Factor" />
                        </div>
                        <div class="col-md-6">
                            <label>Name of SPS/IPS<span class="text-danger">*</span></label>
                            <input type="text" class="form-control" asp-for="SPSName" placeholder="Name of SPS/IPS" />

                        </div>
                        <div class="col-md-12 mt-2 dvMainSPS">
                            <div class="row">
                                <div class="col-md-6 pt-4 bg-light-info">
                                    <div class="form-group">
                                        <input type="checkbox" id="SubIsDrain" />
                                        <label for="SubIsDrain" style="font-size: 12px;">Flow From Drain</label>
                                    </div>
                                </div>
                                <div class="col-md-6 bg-light-info d-none" id="SubMainDrainNameBox">
                                    <div class="form-group d-flex mt-3">
                                        <label>Main Drain Name<span class="text-danger">*</span></label>
                                        <input type="text" class="form-control" asp-for="SubDrainageName" id="SubDrainageName" placeholder="Enter drain name " />
                                        <span class="float-right" title="Add New"><a id="btnAddSubDrain" onclick="return fAddSubDrain();" class="btn btn-success ml-2 text-white"><i class="fa fa-plus mdi-18px"></i></a></span>
                                    </div>
                                    <label id="SubDrainList"></label>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 bg-light-primary pt-4">
                                    <div class="form-group">
                                        <input type="checkbox" id="SubIsSewer" />
                                        <label for="SubIsSewer" style="font-size: 12px;">Flow From Sewer</label>
                                    </div>
                                </div>
                                <div class="col-md-6 bg-light-primary d-none" id="SubMainSewerLengthBox">
                                    <div class="form-group d-flex mt-3">
                                        <label>Main Sewer Length(K.M.)<span class="text-danger">*</span></label>
                                        <input type="text" class="form-control" onkeypress="return isNumberKey(event)" asp-for="SubSewerLength" id="SubSewerLength" placeholder="Enter sewer length " />
                                        <span class="float-right"><a id="btnAddSubSewer" onclick="return fAddSubSewer();" class="btn btn-success ml-2 text-white"><i class="fa fa-plus mdi-18px"></i></a></span>
                                    </div>
                                    <label id="SubSewerList"></label>
                                </div>

                            </div>
                        </div>

                    </div>


                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger btn-sm btn-xs waves-effect text-left" data-dismiss="modal"><i class="fa fa-times"></i> Cancel</button>
                    <button type="button" class="btn btn-success btn-sm btn-xs" id="submit" onclick="return fSaveSPS();" value="Submit" name="btnSubmit"> <i class="fa fa-save"> Save</i></button>
                </div>

                <div class="table-responsive mt-5">
                    <table class="table table-striped" id="PumpingStationList">
                        <thead>
                            <tr>
                                <th>Sn</th>
                                <th>Main Pumping Station</th>
                                <th>Sub Main Pumping Station</th>
                                <th>Meter Load</th>
                                <th>Account Number</th>
                                <th>Bill Cycle</th>
                                <th>Drainage Name</th>
                                <th>Sewer Length</th>
                                <th>Peak Design</th>
                                <th>Peak factor</th>
                                <th class="tdaction">Action</th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</form>



<script src="~/js/jquery.datatables.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />

<script>
    var IsAddedMainPumpingStation = 0;

    function ShowPopup() {

        $('#SubIsDrain').prop("checked", false);
        $('#SubIsSewer').prop("checked", false);
        $('#SubMainDrainNameBox').addClass('d-none');
        $('#SubMainSewerLengthBox').addClass('d-none');
        var hddnTokenNo = $("#hddnTokenNo").val();
        $.ajax({
            url: '/STP/GetPumpingStationDropDown',
            method: 'GET',
            data: { TokenNo: hddnTokenNo },
            success: function (data) {
                var dropdown = $('#PumpingStationName');
                dropdown.empty();
                $.each(data, function (index, item) {
                    dropdown.append($('<option>', {
                        value: item.value,
                        text: item.text
                    }));
                });
            },
            error: function (error) {
                fShowToasterror(error);
            }
        });

        $.ajax({
            url: '/STP/PumpStationList',
            method: 'GET',
            data: { TokenNo: hddnTokenNo },
            success: function (data) {
                var tableBody = $('#PumpingStationList tbody');
                tableBody.empty();
                let i = 1;
                $.each(data, function (index, item) {
                    if (item.isMain == true) {

                        var row = '<tr>' +
                            '<td>' + i + '</td>' +
                            '<td>' + item.pumpingStationName + '</td>' +
                            '<td>' + item.spsName + '</td>' +
                            '<td>' + item.electricityMeterLoad + '</td>' +
                            '<td>' + item.electricityAccountNo + '</td>' +
                            '<td>' + item.billingCycle + '</td>' +

                            '<td>' + item.drainageName + '</td>' +
                            '<td>' + item.sewerLength + '</td>' +
                            '<td>' + item.peekDesignedDischarge + '</td>' +
                            '<td>' + item.peekDesignedFactor + '</td>' +
                            '<td></td>' +
                            '</tr>';
                        i++
                        // console.log(item)
                        tableBody.append(row);
                    }
                    else {
                        var row = '<tr>' +
                            '<td>' + i + '</td>' +
                            '<td>' + item.pumpingStationName + '</td>' +
                            '<td>' + item.spsName + '</td>' +
                            '<td>' + item.electricityMeterLoad + '</td>' +
                            '<td>' + item.electricityAccountNo + '</td>' +
                            '<td>' + item.billingCycle + '</td>' +

                            '<td>' + item.drainageName + '</td>' +
                            '<td>' + item.sewerLength + '</td>' +
                            '<td>' + item.peekDesignedDischarge + '</td>' +
                            '<td>' + item.peekDesignedFactor + '</td>' +
                            '<td><a onclick="return fDeletePumpingStation(' + item.pk_Id + ');" ToolTip="Delete" class="text-danger"><i class="fa fa-trash" aria-hidden="true"></i></a></td>' +
                            '</tr>';
                        i++
                        // console.log(item)
                        tableBody.append(row);
                    }
                });
                var tbodyRowCount = $('#PumpingStationList tbody tr').length
                $('#PumpingStation').val(tbodyRowCount)
            },
            error: function (error) {
                fShowToasterror(error);
            }
        });
        $('#SPSModal').modal('show');
    }

    function fDeletePumpingStation(txtId) {
        let userConfirmed = confirm('Are you sure you want to delete this record?');
        if (userConfirmed) {
            $.ajax({
                url: '/STP/DeletePumpingStation',
                type: 'GET',
                data: { Id: txtId },
                success: function (response) {
                    if (response != null) {
                        ShowPopup();
                    }
                },
                error: function (error) {
                    fShowToasterror(error);
                }
            });
        }
    }


    $(document).ready(function () {
        if ($("#BODCheck").is(":checked", false)) {

            $("#BODTextBox").css("display", "block")
        }
        else {
            $("#BODTextBox").css("display", "none")
        }

        if ($("#CODCheck").is(":checked", false)) {

            $("#CODTextBox").css("display", "block")
        }
        else {
            $("#CODTextBox").css("display", "none")
        }

        if ($("#TSSCheck").is(":checked", false)) {

            $("#TSSTextBox").css("display", "block")
        }
        else {
            $("#TSSTextBox").css("display", "none")
        }

        if ($("#FSCheck").is(":checked", false)) {

            $("#FSTextBox").css("display", "block")
        }
        else {
            $("#FsTextBox").css("display", "none")
        }
        FvalidateStpCount();

        $("#UPPCLBillCycle").on('change', function () {

            var UPPCLBillCycle = (this.value == "" || this.value == null) ? "0" : this.value;
            if (parseInt(UPPCLBillCycle) > 0) {

                if (parseInt(UPPCLBillCycle) > 31) {
                    $("#UPPCLBillCycle").val("");
                    $("#UPPCLBillCycle").focus();
                    $("#txterrorbillCycle").css({ "display": "block" })
                    $("#txterrorbillCycle").text("Billing cycle cannot be longer than 31")
                }
                else {
                    $("#txterrorbillCycle").css({ "display": "none" })
                    $("#txterrorbillCycle").text("")
                }
            }
            else {
                $("#txterrorbillCycle").css({ "display": "block" })
                $("#txterrorbillCycle").text("Billing cycle cannot be less then 0 and blank")
            }
        })

        $("#PumpingBillCycle").on('change', function () {

            var PumpingBillCycle = (this.value == "" || this.value == null) ? "0" : this.value;
            if (parseInt(PumpingBillCycle) > 0) {

                if (parseInt(PumpingBillCycle) > 31) {
                    $("#PumpingBillCycle").val("");
                    $("#PumpingBillCycle").focus();
                    $("#txtErrorPumpingBillCycle").css({ "display": "block" })
                    $("#txtErrorPumpingBillCycle").text("Billing cycle cannot be longer than 31")
                }
                else {
                    $("#txtErrorPumpingBillCycle").css({ "display": "none" })
                    $("#txtErrorPumpingBillCycle").text("")
                }
            }
            else {
                $("#txtErrorPumpingBillCycle").css({ "display": "block" })
                $("#txtErrorPumpingBillCycle").text("Billing cycle cannot be less then 0 and blank")
            }
        })

    });

    function fSaveMainPumpingStation(val) {
        debugger


        if ($("#STPName").val() == null || $("#STPName").val() == '' || $("#STPName").val() <= 0) {
            $("#STPName").focus();
            return false;
        }


        if ($("#Name").val() == null || $("#Name").val() == '' || $("#Name").val() <= 0) {
            $("#Name").focus();
            return false;
        }
        if ($("#PumpStationMeterLoad").val() == null || $("#PumpStationMeterLoad").val() == '' || $("#PumpStationMeterLoad").val() <= 0) {
            $("#PumpStationMeterLoad").focus();
            return false;
        }
        if ($("#PumpingStatisonAccountNo").val() == null || $("#PumpingStatisonAccountNo").val() == '' || $("#PumpingStatisonAccountNo").val() <= 0) {
            $("#PumpingStatisonAccountNo").focus();
            return false;
        }
        if ($("#PumpingBillCycle").val() == null || $("#PumpingBillCycle").val() == '') {
            $("#PumpingBillCycle").focus();
            return false;
        }
        if ($("#PeekDesignedDischarge").val() == null || $("#PeekDesignedDischarge").val() == '') {
            $("#PeekDesignedDischarge").focus();
            return false;
        }
        if ($("#PeekDesignedFactor").val() == null || $("#PeekDesignedFactor").val() == '') {
            $("#PeekDesignedFactor").focus();
            return false;
        }
        //debugger

        if ($("#IsDrain").prop('checked') === true) {
            if ($("#MainDrainList").text() == null || $("#MainDrainList").text() == "") {
                if ($("#DrainageName").val() == "" || $("#DrainageName").val() == null) {
                    $("#DrainageName").focus();
                    $("#DrainageName").val('');
                    return false;
                }
            }
        }
        if ($("#IsSewer").prop('checked') === true) {
            if ($("#MainSewerList").text() == null || $("#MainSewerList").text() == "") {
                if ($("#SewerLength").val() == "" || $("#SewerLength").val() == null) {
                    $("#SewerLength").focus();
                    $("#SewerLength").val('');
                    return false;
                }
            }
        }
        //debugger

        let txtSTPName = $("#STPName").val();
        let txtPumpingStationName = $("#PumpingStationName").val();
        let txtPSName = $("#Name").val();
        let txtPSMeterLoad = $("#PumpStationMeterLoad").val();
        let txtPSAccountNo = $("#PumpingStatisonAccountNo").val();
        let txtPSBillCycle = $("#PumpingBillCycle").val();
        let txtPSPeakDischarge = $("#PeekDesignedDischarge").val();
        let txtPSPeakFactor = $("#PeekDesignedFactor").val();
        let txtPSDrainageName = $("#MainDrainList").text();
        let txtPSSewerLength = $("#MainSewerList").text();
        let hddnTokenNo = $("#hddnTokenNo").val();




        if ($("#Name").attr('readonly') != 'readonly') {
            $.ajax({
                url: '/STP/SaveMainPumpingStation',
                type: 'POST',
                data: { PumpingStationName: txtPumpingStationName, Name: txtPSName, MeterLoad: txtPSMeterLoad, AccountNo: txtPSAccountNo, BillCycle: txtPSBillCycle, PeakDischarge: txtPSPeakDischarge, PeakFactor: txtPSPeakFactor, DrainageName: txtPSDrainageName, SewerLength: txtPSSewerLength, hddnTokenNo: hddnTokenNo, IsMain: true, STPName: txtSTPName },
                success: function (response) {

                    if (response != null) {
                        IsAddedMainPumpingStation = 1;
                        // alert("Success");

                        $("#Name").prop('readonly', true);
                        $("#PumpStationMeterLoad").prop('readonly', true);
                        $("#PumpingStatisonAccountNo").prop('readonly', true);
                        $("#PumpingBillCycle").prop('readonly', true);
                        $("#PeekDesignedDischarge").prop('readonly', true);
                        $("#PeekDesignedFactor").prop('readonly', true);
                        $("#DrainageName").prop('readonly', true);
                        $("#SewerLength").prop('readonly', true);
                        $("#SewerLength").prop('readonly', true);
                        $("#IsDrain").prop('disabled', true);
                        $("#IsSewer").prop('disabled', true);
                        $("#btnAddMainDrain").prop('disabled', true);
                        $("#btnAddMainSewer").prop('disabled', true);
                        debugger
                        if (val == 1) {
                            $("#Submit").click();
                        } else {
                            ShowPopup();
                        }
                    }
                },
                error: function (error) {
                    fShowToasterror(error);
                }
            });
        }
        else {
            if (val != 1) {
                ShowPopup();
            }
        }


    }

    function fSaveSPS() {
        debugger


        if ($("#PumpingStationName").val() == "" || $("#PumpingStationName").val() == null || $("#PumpingStationName").val() == "0") {
            $("#PumpingStationName").focus();
            return false;
        }
        if ($("#SPSName").val() == "" || $("#SPSName").val() == null) {
            $("#SPSName").focus();
            return false;
        }
        if ($("#SubStationMeterLoad").val() == "" || $("#SubStationMeterLoad").val() == null) {
            $("#SubStationMeterLoad").focus();
            return false;
        }
        if ($("#SubAccountNo").val() == "" || $("#SubAccountNo").val() == null) {
            $("#SubAccountNo").focus();
            return false;
        }
        if ($("#SubPumpingBillCycle").val() == "" || $("#SubPumpingBillCycle").val() == null) {
            $("#SubPumpingBillCycle").focus();
            return false;
        }
        if ($("#SubPeakDischarge").val() == "" || $("#SubPeakDischarge").val() == null) {
            $("#SubPeakDischarge").focus();
            return false;
        }
        if ($("#SubPeakFactor").val() == "" || $("#SubPeakFactor").val() == null) {
            $("#SubPeakFactor").focus();
            return false;
        } //debugger

        // if ($("#SubDrainageName").val() == "" || $("#SubDrainageName").val() == null) {
        //     $("#SubDrainageName").focus();
        //     return false;
        // }
        // if ($("#SubSewerLength").val() == "" || $("#SubSewerLength").val() == null) {
        //     $("#SubSewerLength").focus();
        //     return false;
        // }
        if ($("#SubIsDrain").prop('checked') === true) {
            if ($("#SubDrainList").text() == null || $("#SubDrainList").text() == "") {
                if ($("#SubDrainageName").val() == "" || $("#DrainageName").val() == null) {
                    $("#SubDrainageName").focus();
                    $("#SubDrainageName").val('');
                    return false;
                }
            }

        } //debugger

        if ($("#SubIsSewer").prop('checked') === true) {
            if ($("#SubSewerList").text() == null || $("#SubSewerList").text() == "") {
                if ($("#SubSewerLength").val() == "" || $("#SubSewerLength").val() == null) {
                    $("#SubSewerLength").focus();
                    $("#SubSewerLength").val('');
                    return false;
                }
            }
        }
        //debugger
        let txtSTPName = $("#STPName").val();
        let txtPumpingStationName = $("#PumpingStationName").val();
        let txtPSName = $("#SPSName").val();
        let txtPSMeterLoad = $("#SubStationMeterLoad").val();
        let txtPSAccountNo = $("#SubAccountNo").val();
        let txtPSBillCycle = $("#SubPumpingBillCycle").val();
        let txtPSPeakDischarge = $("#SubPeakDischarge").val();
        let txtPSPeakFactor = $("#SubPeakFactor").val();
        let txtPSDrainageName = $("#SubDrainList").text();
        let txtPSSewerLength = $("#SubSewerList").text();
        let hddnTokenNo = $("#hddnTokenNo").val();

        $.ajax({
            url: '/STP/SaveMainPumpingStation',
            type: 'POST',
            data: { PumpingStationName: txtPumpingStationName, Name: txtPSName, MeterLoad: txtPSMeterLoad, AccountNo: txtPSAccountNo, BillCycle: txtPSBillCycle, PeakDischarge: txtPSPeakDischarge, PeakFactor: txtPSPeakFactor, DrainageName: txtPSDrainageName, SewerLength: txtPSSewerLength, hddnTokenNo: hddnTokenNo, IsMain: false, STPName: txtSTPName },
            success: function (response) {

                if (response != null) {
                    $("#PumpingStationName").val(0);
                    $("#SPSName").val("");
                    $("#SubStationMeterLoad").val("");
                    $("#SubAccountNo").val("");
                    $("#SubPumpingBillCycle").val("");
                    $("#SubPeakDischarge").val("");
                    $("#SubPeakFactor").val("");
                    $("#SubDrainageName").val("");
                    $("#SubSewerLength").val("");
                    $("#SubSewerList").text("");
                    $("#SubDrainList").text("");
                    ShowPopup();
                }
                var tbodyRowCount = $('#PumpingStationList tbody tr').length
                $('#PumpingStation').val(tbodyRowCount)
            },
            error: function (error) {
                fShowToasterror(error);
            }
        });
    }

    function ValidateForm() {
        debugger

        if ($("#STPName").val() == null || $("#STPName").val() == '') {
            $("#STPName").focus();
            return false;
        }
        if ($("#Capacity").val() == null || $("#Capacity").val() == '') {
            $("#Capacity").focus();
            return false;
        }
        if ($("#ElectricityMeterLoad").val() == null || $("#ElectricityMeterLoad").val() == '') {
            $("#ElectricityMeterLoad").focus();
            return false;
        }
        if ($("#ElectricityAccountNo").val() == null || $("#ElectricityAccountNo").val() == '') {
            $("#ElectricityAccountNo").focus();
            return false;
        }
        if ($("#UPPCLBillCycle").val() == null || $("#UPPCLBillCycle").val() == '') {
            $("#UPPCLBillCycle").focus();
            return false;
        }
        if ($("#Pk_CityId").val() == null || $("#Pk_CityId").val() == '' || $("#Pk_CityId").val() == 0) {
            $("#Pk_CityId").focus();
            return false;
        }
        //debugger

        if ($("#BOD").val() == null || $("#BOD").val() == '' || $("#BOD").val() == 0) {
            $("#BOD").focus();
            return false;
        }
        let IsBillingBOD = $('input[name="IsBillingBOD"]:checked').val();
        if (IsBillingBOD == 'No') {
            if ($('#NewBOD').val() == "" || $('#NewBOD').val() == null) {
                $('#NewBOD').focus();
                return false;
            }
        }
        if ($("#COD").val() == null || $("#COD").val() == '' || $("#COD").val() == 0) {
            $("#COD").focus();
            return false;
        } //debugger

        let IsBillingCOD = $('input[name="IsBillingCOD"]:checked').val();
        if (IsBillingCOD == 'No') {
            if ($('#NewCOD').val() == "" || $('#NewCOD').val() == '' || $('#NewCOD').val() == null) {
                $('#NewCOD').focus();
                return false;
            }
        }
        if ($("#TSS").val() == null || $("#TSS").val() == '' || $("#TSS").val() == 0) {
            $("#TSS").focus();
            return false;
        }
        let IsBillingTSS = $('input[name="IsBillingTSS"]:checked').val();
        if (IsBillingTSS == 'No') {
            if ($('#NewTSS').val() == "" || $('#NewTSS').val() == '' || $('#NewTSS').val() == null) {
                $('#NewTSS').focus();
                return false;
            }
        }
        //debugger


        if ($("#FSCheck").is(":checked", false)) {

            if ($("#FC").val() == null || $("#FC").val() == '' || $("#FC").val() == 0) {
                $("#FC").focus();
                return false;
            }
            //debugger
            let IsBillingFC = $('input[name="IsBillingFC"]:checked').val();
            if (IsBillingFC == 'No') {
                if ($('#NewFC').val() == "" || $('#NewFC').val() == '' || $('#NewTSS').val() == null) {
                    $('#NewFC').focus();
                    return false;
                }
            }

        } //debugger

        if ($("#SewerCheck").is(':checked')) {
            if ($("#SewerLength").val() == null || $("#SewerLength").val() == '' || $("#NamSewerLengthe").val() <= 0) {
                $("#SewerLength").focus();
                return false;
            }
        }
        if ($("#DrainageCheck").is(':checked')) {
            if ($("#DrainageName").val() == null || $("#DrainageName").val() == '' || $("#DrainageName").val() <= 0) {
                $("#DrainageName").focus();
                return false;
            }
        }
        if ($("#SPSCheck").is(':checked')) {
            if ($("#SPSName").val() == null || $("#SPSName").val() == '' || $("#SPSName").val() <= 0) {
                $("#SPSName").focus();
                return false;
            }
        } //debugger

        var Billtype = $('input[class="Billtype"]:checked').length;
        var testinglab = $('input[class="testinglab"]:checked').length;
        if (testinglab <= 0) {
            fShowToastalert('Please select atleast one testing lab');
            $("#TPICheck").focus()
            return false;
        }
        if (Billtype <= 0) {
            fShowToastalert('Please select atleast any one billing');
            $("#BODCheck").focus()
            return false;
        }

        if ($("#Name").val() == null || $("#Name").val() == '' || $("#Name").val() <= 0) {
            $("#Name").focus();
            return false;
        }
        if ($("#PumpStationMeterLoad").val() == null || $("#PumpStationMeterLoad").val() == '' || $("#PumpStationMeterLoad").val() <= 0) {
            $("#PumpStationMeterLoad").focus();
            return false;
        }
        if ($("#PumpingStatisonAccountNo").val() == null || $("#PumpingStatisonAccountNo").val() == '' || $("#PumpingStatisonAccountNo").val() <= 0) {
            $("#PumpingStatisonAccountNo").focus();
            return false;
        }
        if ($("#PumpingBillCycle").val() == null || $("#PumpingBillCycle").val() == '') {
            $("#PumpingBillCycle").focus();
            return false;
        }
        if ($("#PeekDesignedDischarge").val() == null || $("#PeekDesignedDischarge").val() == '') {
            $("#PeekDesignedDischarge").focus();
            return false;
        }
        if ($("#PeekDesignedFactor").val() == null || $("#PeekDesignedFactor").val() == '') {
            $("#PeekDesignedFactor").focus();
            return false;
        }
        if ($("#IsDrain").prop('checked') === true) {
            if ($("#MainDrainList").text() == null || $("#MainDrainList").text() == "") {
                if ($("#DrainageName").val() == "" || $("#DrainageName").val() == null) {
                    $("#DrainageName").focus();
                    $("#DrainageName").val('');
                    return false;
                }
            }
        }
        if ($("#IsSewer").prop('checked') === true) {
            if ($("#MainSewerList").text() == null || $("#MainSewerList").text() == "") {
                if ($("#SewerLength").val() == "" || $("#SewerLength").val() == null) {
                    $("#SewerLength").focus();
                    $("#SewerLength").val('');
                    return false;
                }
            }
        }

        if ($("#IsDeclered").is(":checked") == false) {
            fShowToastalert("Please! check verify condition checkbox")
            $("#IsDeclered").focus();
            return false;
        }
        if (parseInt(IsAddedMainPumpingStation) == 0) {
            fSaveMainPumpingStation(1);
        }
        else {
            $("#Submit").click();
        }
        //var formData = $("#STPForm").serializeArray();
        //var jsonData = {};

        //$.each(formData, function (i, field) {
        //    jsonData[field.name] = field.value;
        //});

        //$.ajax({
        //    url: '/STP/StpRegistration',
        //    type: 'Post',
        //    data: JSON.stringify(jsonData),
        //    contentType: 'application/json',
        //    success: function (response) {

        //        if (response != null) {
        //            // alert("Success");
        //        }
        //    },
        //    error: function (error) {
        //        fShowToasterror(error);
        //    }
        //});
    }

    $("#BODCheck").on('change', function () {
        if ($(this).is(':checked')) {
            $("#BODTextBox").css("display", "block")
        }
        else {
            $("#BODTextBox").css("display", "none")
            $("#BOD").val("0");
        }
    })
    $("#CODCheck").on('change', function () {
        if ($(this).is(':checked')) {
            $("#CODTextBox").css("display", "block")
        }
        else {
            $("#CODTextBox").css("display", "none")
            $("#COD").val("0");
        }
    })
    $("#TSSCheck").on('change', function () {
        if ($(this).is(':checked')) {
            $("#TSSTextBox").css("display", "block")
        }
        else {
            $("#TSS").val("0");
            $("#TSSTextBox").css("display", "none")
        }
    })
    $("#FSCheck").on('change', function () {
        if ($(this).is(':checked')) {

            $("#FSTextBox").css("display", "block")
            $("#FSTextRadio").css("display", "block")
            $("#YesIsBillingFC").prop('checked', true);
        }
        else {
            $("#FSTextBox").css("display", "none")
            $("#FSTextRadio").css("display", "none")
            $("#NewFCTextBox").css("display", "none")
            $("#FC").val("");
            $("#NewFC").val("");
        }
    })
    function FvalidateStpCount() {
        if ($("#txtTempError").text() == "" || $("#txtTempError").text() == null) {
            $.ajax({
                url: '/home/StpRegistrationValidation',
                type: 'Post',
                data: { OpCode: 1 },
                success: function (response) {
                    if (response != null) {
                        if (response.status == "1") {
                            if (response.message == "") { } else {
                                fShowToast(response.message);
                            }
                        }
                        if (response.status == "0") {
                            fShowToastalert(response.message)
                        }
                    }
                },
                error: function (error) {
                    fShowToasterror(error);
                }
            });
        }
    }

    function FvalidateCapacity() {
        $.ajax({
            url: '/home/StpRegistrationValidation',
            type: 'Post',
            data: { OpCode: 2, Capacity: $("#Capacity").val() },
            success: function (response) {
                if (response != null) {
                    if (response.status == "1") {
                        $("#txtSpanError1").css({ "display": "none" })
                        $("#txtSpanError1").text(response.message)

                    }
                    if (response.status == "0") {
                        $("#txtSpanError1").css({ "display": "block" })
                        $("#txtSpanError1").text(response.message)
                        $("#Capacity").val("")
                    }
                }
            },
            error: function (error) {
                fShowToasterror(error);
            }
        });
    }

</script>

<script>

    function fcheckSPSType(i) {
        var txtsps = $("#SPSType_" + i).val();

        if (txtsps == 'Sewer') {
            $("#SewerLength_" + i).prop("disabled", false);
            $("#DrainageName_" + i).prop("disabled", true);
        }
        else if (txtsps == 'Drainage') {
            $("#DrainageName_" + i).prop("disabled", false);
            $("#SewerLength_" + i).prop("disabled", true);
        }
        else {
            $("#DrainageName_" + i).prop("disabled", false);
            $("#SewerLength_" + i).prop("disabled", false);
        }

    }

    $('#IsDrain').on('change', function () {

        if ($('#IsDrain').prop('checked') === true) {
            $('#MainDrainNameBox').removeClass('d-none');
            $('#MainDrainNameBox').val('');
        }
        else {
            $('#MainDrainNameBox').addClass('d-none');
            $('#MainDrainNameBox').val('');
        }
    })

    $('#IsSewer').on('change', function () {
        if ($('#IsSewer').prop('checked') === true) {
            $('#MainSewerLengthBox').removeClass('d-none');
            $('#MainSewerLengthBox').val('');
        }
        else {
            $('#MainSewerLengthBox').addClass('d-none');
            $('#MainSewerLengthBox').val('');
        }
    })

    $('#IsSPSStation').on('change', function () {
        if ($('#IsSPSStation').prop('checked') === true) {
            $('#SPSStationCount').removeClass('d-none');
        }
        else {
            $('#SPSStationCount').addClass('d-none');
        }
    })


    $('#SubIsDrain').on('change', function () {

        if ($('#SubIsDrain').prop('checked') === true) {
            $('#SubMainDrainNameBox').removeClass('d-none');
            $('#SubMainDrainNameBox').val('');
        }
        else {
            $('#SubMainDrainNameBox').addClass('d-none');
            $('#SubMainDrainNameBox').val('');
        }
    })

    $('#SubIsSewer').on('change', function () {
        if ($('#SubIsSewer').prop('checked') === true) {
            $('#SubMainSewerLengthBox').removeClass('d-none');
            $('#SubMainSewerLengthBox').val('');
        }
        else {
            $('#SubMainSewerLengthBox').addClass('d-none');
            $('#SubMainSewerLengthBox').val('');
        }
    })

    function fAddMainDrain() {
        if ($("#DrainageName").val() == '' || $("#DrainageName").val() == null) {
            $("#DrainageName").focus();
            return false;
        }
        else {
            let txtMainDrainList = $("#MainDrainList");
            let txtDrainageName = $("#DrainageName").val();
            txtMainDrainList.append(txtDrainageName + ',');
            $("#DrainageName").val('');
        }
    }

    function fAddMainSewer() {
        if ($("#SewerLength").val() == '' || $("#SewerLength").val() == null) {
            $("#SewerLength").focus();
            return false;
        }
        else {
            let txtMainSewerList = $("#MainSewerList");
            let txtSewerName = $("#SewerLength").val();
            txtMainSewerList.append(txtSewerName + ',');
            $("#SewerLength").val('');
        }
    }

    function fAddSubDrain() {
        if ($("#SubDrainageName").val() == '' || $("#SubDrainageName").val() == null) {
            $("#SubDrainageName").focus();
            return false;
        }
        else {
            let txtSubDrainList = $("#SubDrainList");
            let txtSubDrainName = $("#SubDrainageName").val();
            txtSubDrainList.append(txtSubDrainName + ',');
            $("#SubDrainageName").val('');
        }
    }

    function fAddSubSewer() {
        if ($("#SubSewerLength").val() == '' || $("#SubSewerLength").val() == null) {
            $("#SubSewerLength").focus();
            return false;
        }
        else {
            let txtSubSewerList = $("#SubSewerList");
            let txtSubSewerLength = $("#SubSewerLength").val();
            txtSubSewerList.append(txtSubSewerLength + ',');
            $("#SubSewerLength").val('');
        }
    }

    // $('#IsBillingBOD').on('change', function () {
    //     debugger
    //     if ($('#IsBillingBOD').val() == "No") {
    //         $('#NewBODTextBox').show();
    //     }
    //     else {
    //         $('#NewBODTextBox').hide();
    //     }
    // })

    // $('#IsBillingCOD').on('change', function () {
    //     debugger
    //     if ($('#IsBillingCOD').val() == "No") {
    //         $('#NewCODTextBox').show();
    //     }
    //     else {
    //         $('#NewCODTextBox').hide();
    //     }
    // })

    // $('#IsBillingTSS').on('change', function () {
    //     debugger
    //     if ($('#IsBillingTSS').val() == "No") {
    //         $('#NewTSSTextBox').show();
    //     }
    //     else {
    //         $('#NewTSSTextBox').hide();
    //     }
    // })
</script>
<script>

    function getstatus() {
        //debugger
        let status = $('input[name="IsBillingBOD"]:checked').val();
        if (status == 'true') {
            $('#NewBODTextBox').hide();
            $('#NewBOD').val("");

        }
        else if (status == 'false') {
            $('#NewBODTextBox').show();
            $('#NewBOD').val("");

        }
        else {
            $('#NewBODTextBox').show();

        }
    }
    function getIsBillingCOD() {
        //debugger
        let status = $('input[name="IsBillingCOD"]:checked').val();
        if (status == 'true') {
            $('#NewCODTextBox').hide();
            $('#NewCOD').val("");

        }
        else if (status == 'false') {
            $('#NewCODTextBox').show();
            $('#NewCOD').val("");

        }
        else {
            $('#NewCODTextBox').show();
        }
    }
    function getIsBillingTSS() {
        //debugger
        let status = $('input[name="IsBillingTSS"]:checked').val();
        if (status == 'true') {
            $('#NewTSSTextBox').hide();
            $('#NewTSS').val("");

        }
        else if (status == 'false') {
            $('#NewTSSTextBox').show();
            $('#NewTSS').val("");

        }
        else {
            $('#NewTSSTextBox').show();
        }
    }
    function getIsBillingFC() {
        //debugger
        let status = $('input[name="IsBillingFC"]:checked').val();
        if (status == 'true') {
            $('#NewFCTextBox').hide();
            $('#NewFC').val("");

        }
        else if (status == 'false') {
            $('#NewFCTextBox').show();
            $('#NewFC').val("");

        }
        else {
            $('#NewFCTextBox').show();
        }
    }
</script>
